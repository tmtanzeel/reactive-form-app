import { Component, OnInit } from '@angular/core';
import { FormArray, FormControl, FormGroup } from '@angular/forms';

@Component({
  selector: 'app-le-single',
  templateUrl: './le-single.component.html',
  styleUrls: ['./le-single.component.scss'],
})
export class LeSingleComponent implements OnInit {
  recordSpecificData = [
    {
      createdBy: 100001,
      updatedBy: 1000001,
      createdDate: '2023-02-02T16:00:02.149833',
      updatedDate: '2023-02-28T17:04:15.723394',
      id: 1446,
      internalExternalFlag: 4,
      mappedLegalEntityId: 271,
      mdmShippingLocationNumbers: [
        {
          createdBy: 100001,
          updatedBy: 1000001,
          createdDate: '2023-02-02T16:00:02.149833',
          updatedDate: '2023-02-28T19:41:53.19009',
          id: 1444,
          locationId: 1446,
          locationNumber: 'SL-20231001',
          locationNumberStartDate: '2023-01-30T00:00:00.000+00:00',
          locationNumberEndDate: '2023-04-21T00:00:00.000+00:00',
          locationNumberStatus: 'A',
          status: 'Active',
        },
      ],
      mdmShippingLocationNames: [
        {
          createdBy: 1000001,
          updatedBy: 1000001,
          createdDate: '2023-03-03T12:01:12.865406',
          updatedDate: '2023-03-03T16:53:30.72083',
          id: 96,
          locationId: 1446,
          locationName: 'testingabcjgjkh',
          locationNameStartDate: '2023-03-17T00:00:00.000+00:00',
          locationNameEndDate: null,
          locationNameStatus: 'I',
          status: 'Scheduled',
        },
        {
          createdBy: 1000001,
          updatedBy: 1000001,
          createdDate: '2023-03-02T00:51:23.110792',
          updatedDate: '2023-03-03T00:05:49.271286',
          id: 95,
          locationId: 1446,
          locationName: 'abcde',
          locationNameStartDate: '2023-03-03T00:00:00.000+00:00',
          locationNameEndDate: null,
          locationNameStatus: 'A',
          status: 'Active',
        },
        {
          createdBy: 100001,
          updatedBy: 1000001,
          createdDate: '2023-02-02T16:00:02.149833',
          updatedDate: '2023-03-02T13:12:32.738868',
          id: 53,
          locationId: 1446,
          locationName: 'EGL Banglore, INdia',
          locationNameStartDate: '2023-01-30T00:00:00.000+00:00',
          locationNameEndDate: '2023-03-02T00:00:00.000+00:00',
          locationNameStatus: 'A',
          status: 'Expired',
        },
      ],
      mdmShippingLocationAddresses: [
        {
          createdBy: 1000001,
          updatedBy: 1000001,
          createdDate: '2023-03-03T14:32:34.700518',
          updatedDate: '2023-03-03T14:32:34.700518',
          id: 75,
          locationId: 1446,
          locationAddress1: 'tt',
          locationAddress2: 'tt',
          locationAddress3: 'tt',
          locationAddress4: null,
          locationAddressCity: 'tt',
          locationAddressState: 'tt',
          locationAddressPostalCode: 'tt',
          locationAddressCountryCode: 7,
          locationAddressStartDate: '2023-03-09T00:00:00.000+00:00',
          locationAddressEndDate: null,
          locationAddressStatus: 'I',
          mdmCountry: {
            createdBy: 1000001,
            updatedBy: 1000001,
            createdDate: '2022-12-15T15:59:56.22528',
            updatedDate: '2022-12-15T15:59:56.22528',
            id: 7,
            isoCountryCode2: 'AD',
            isoCountryCode3: null,
            isoCountryName: 'Andorra',
            countryStartDate: '2022-12-15T10:29:55.943+00:00',
            countryEndDate: null,
            countryStatus: 'A',
          },
          status: 'Scheduled',
        },
        {
          createdBy: 1000001,
          updatedBy: 1000001,
          createdDate: '2023-03-02T14:31:24.394212',
          updatedDate: '2023-03-03T00:05:49.597988',
          id: 74,
          locationId: 1446,
          locationAddress1: 'hjkhkjh',
          locationAddress2: 'tt',
          locationAddress3: 'tt',
          locationAddress4: null,
          locationAddressCity: 'tt',
          locationAddressState: 'tt',
          locationAddressPostalCode: 'tt',
          locationAddressCountryCode: 9,
          locationAddressStartDate: '2023-03-03T00:00:00.000+00:00',
          locationAddressEndDate: null,
          locationAddressStatus: 'A',
          mdmCountry: {
            createdBy: 1000001,
            updatedBy: 1000001,
            createdDate: '2022-12-15T15:59:56.809713',
            updatedDate: '2022-12-15T15:59:56.809713',
            id: 9,
            isoCountryCode2: 'AF',
            isoCountryCode3: null,
            isoCountryName: 'Afghanistan',
            countryStartDate: '2022-12-15T10:29:55.943+00:00',
            countryEndDate: null,
            countryStatus: 'A',
          },
          status: 'Active',
        },
        {
          createdBy: 1000001,
          updatedBy: 1000001,
          createdDate: '2023-03-02T13:27:03.555129',
          updatedDate: '2023-03-02T14:29:27.660597',
          id: 73,
          locationId: 1446,
          locationAddress1: 'test',
          locationAddress2: 'sfdsd',
          locationAddress3: 'abc',
          locationAddress4: null,
          locationAddressCity: 'active',
          locationAddressState: 'sdfsd',
          locationAddressPostalCode: 'abc',
          locationAddressCountryCode: 9,
          locationAddressStartDate: '2023-03-02T00:00:00.000+00:00',
          locationAddressEndDate: null,
          locationAddressStatus: 'A',
          mdmCountry: {
            createdBy: 1000001,
            updatedBy: 1000001,
            createdDate: '2022-12-15T15:59:56.809713',
            updatedDate: '2022-12-15T15:59:56.809713',
            id: 9,
            isoCountryCode2: 'AF',
            isoCountryCode3: null,
            isoCountryName: 'Afghanistan',
            countryStartDate: '2022-12-15T10:29:55.943+00:00',
            countryEndDate: null,
            countryStatus: 'A',
          },
          status: 'Active',
        },
        {
          createdBy: 100001,
          updatedBy: 1000001,
          createdDate: '2023-02-02T16:00:02.149833',
          updatedDate: '2023-02-28T17:04:15.729216',
          id: 48,
          locationId: 1446,
          locationAddress1: 'Domlur, Banglore',
          locationAddress2: 'We work, Sunriver',
          locationAddress3: null,
          locationAddress4: null,
          locationAddressCity: 'Banglore',
          locationAddressState: 'Karnataka',
          locationAddressPostalCode: '560026',
          locationAddressCountryCode: 111,
          locationAddressStartDate: '2023-01-30T00:00:00.000+00:00',
          locationAddressEndDate: null,
          locationAddressStatus: 'A',
          mdmCountry: {
            createdBy: 1000001,
            updatedBy: 1000001,
            createdDate: '2022-12-15T16:00:53.122828',
            updatedDate: '2022-12-15T16:00:53.122828',
            id: 111,
            isoCountryCode2: 'IN',
            isoCountryCode3: null,
            isoCountryName: 'India',
            countryStartDate: '2022-12-15T10:29:55.947+00:00',
            countryEndDate: null,
            countryStatus: 'A',
          },
          status: 'Active',
        },
      ],
      mdmShippingLocationCustomReg: [
        {
          createdBy: 100001,
          updatedBy: 1000001,
          createdDate: '2023-02-02T16:00:02.149833',
          updatedDate: '2023-03-02T14:29:28.477257',
          id: 41,
          locationId: 1446,
          locationCustomRegistrationNumber: '2147483647',
          locationCustomJurisdictionCodeId: 14,
          locationCustomRegistrationName: 'IN-21345678901',
          locationCustomRegistrationStartDate: '2023-01-30T00:00:00.000+00:00',
          locationCustomRegistrationEndDate: null,
          locationCustomRegistrationStatus: 'A',
          mdmCustomJurisdiction: {
            createdBy: 100001,
            updatedBy: 100001,
            createdDate: '2023-01-10T20:05:29.994299',
            updatedDate: '2023-01-10T20:05:29.994299',
            id: 14,
            customJurisdictionCode: 'IN',
            customJurisdictionDesc: 'India',
            customJurisdictionStartDate: '2023-01-10T08:48:07.506+00:00',
            customJurisdictionEndDate: '2024-11-30T08:48:07.506+00:00',
            customJurisdictionStatus: 'A',
          },
          status: 'Active',
        },
      ],
      mdmShippingLocationTaxs: [
        {
          createdBy: 100001,
          updatedBy: 1000001,
          createdDate: '2023-02-02T16:00:02.149833',
          updatedDate: '2023-03-02T14:29:28.064779',
          id: 44,
          locationId: 1446,
          locationTaxId: '1234567891',
          locationTaxJurisdictionCodeId: 14,
          locationTaxRegistrationName: 'Tax-IN-0001',
          locationTaxIdStartDate: '2023-01-30T00:00:00.000+00:00',
          locationTaxIdEndDate: null,
          locationTaxIdStatus: 'A',
          mdmCustomJurisdiction: {
            createdBy: 100001,
            updatedBy: 100001,
            createdDate: '2023-01-10T20:05:29.994299',
            updatedDate: '2023-01-10T20:05:29.994299',
            id: 14,
            customJurisdictionCode: 'IN',
            customJurisdictionDesc: 'India',
            customJurisdictionStartDate: '2023-01-10T08:48:07.506+00:00',
            customJurisdictionEndDate: '2024-11-30T08:48:07.506+00:00',
            customJurisdictionStatus: 'A',
          },
          status: 'Active',
        },
      ],
      mdmShippingLocationTypes: [
        {
          createdBy: 1000001,
          updatedBy: 1000001,
          createdDate: '2023-03-02T13:12:29.692858',
          updatedDate: '2023-03-03T14:32:02.275521',
          id: 81,
          locationId: 1446,
          locationType: 22,
          locationTypeStartDate: '2023-09-08T00:00:00.000+00:00',
          locationTypeEndDate: null,
          locationTypeStatus: 'I',
          ictLookup: {
            createdBy: 100001,
            updatedBy: 100001,
            createdDate: '2022-12-05T13:04:05.80709',
            updatedDate: '2022-12-05T13:04:05.80709',
            id: 22,
            type: 'LOCATION_TYPE',
            code: 'CUST_FLD_1',
            name: 'Custom Field 1',
            description: 'Custom Field 1',
            value: null,
            isActive: 'A',
            sortOrder: 12,
          },
          status: 'Scheduled',
        },
        {
          createdBy: 100001,
          updatedBy: 1000001,
          createdDate: '2023-02-02T16:00:02.149833',
          updatedDate: '2023-03-03T11:46:52.694271',
          id: 41,
          locationId: 1446,
          locationType: 22,
          locationTypeStartDate: '2023-01-30T00:00:00.000+00:00',
          locationTypeEndDate: null,
          locationTypeStatus: 'A',
          ictLookup: {
            createdBy: 100001,
            updatedBy: 100001,
            createdDate: '2022-12-05T13:04:05.80709',
            updatedDate: '2022-12-05T13:04:05.80709',
            id: 22,
            type: 'LOCATION_TYPE',
            code: 'CUST_FLD_1',
            name: 'Custom Field 1',
            description: 'Custom Field 1',
            value: null,
            isActive: 'A',
            sortOrder: 12,
          },
          status: 'Active',
        },
      ],
      mdmLegalEntity: {
        createdBy: 100001,
        updatedBy: 100001,
        createdDate: '2023-01-25T13:10:01.0967',
        updatedDate: '2023-01-25T13:10:01.0967',
        id: 271,
        inTransitSellerGlAcc: 'US-942392',
        inTransitBuyerGlAcc: 'US-234422',
        mdmLegalEntityName: [
          {
            createdBy: 100001,
            updatedBy: 100001,
            createdDate: '2023-01-25T13:10:01.0967',
            updatedDate: '2023-01-25T13:10:01.0967',
            id: 150,
            entityId: 271,
            entityName: 'Blackline US',
            entityNameStartDate: '2023-04-04T00:00:00.000+00:00',
            entityNameEndDate: null,
            entityNameStatus: 'I',
            status: 'Scheduled',
          },
        ],
        mdmLegalEntityNumber: [
          {
            createdBy: 100001,
            updatedBy: 100001,
            createdDate: '2023-01-25T13:10:01.0967',
            updatedDate: '2023-01-25T13:10:01.0967',
            id: 153,
            entityId: 271,
            entityNumber: 'BLI23012319',
            entityNumberStartDate: '2023-04-04T00:00:00.000+00:00',
            entityNumberEndDate: '2024-04-04T00:00:00.000+00:00',
            entityNumberStatus: 'I',
            status: 'Scheduled',
          },
        ],
      },
    },
  ];

  leDetailsUpdateForm: FormGroup;

  constructor() {
    this.leDetailsUpdateForm = new FormGroup({
      entityNumberGroup: new FormGroup({
        id: new FormControl(),
        entityNumber: new FormControl(),
        entityNumberStartDate: new FormControl(),
        entityNumberEndDate: new FormControl(),
        entityNumberStatus: new FormControl(),
        status: new FormControl(),
      }),
      entityNameArray: new FormArray([
        new FormGroup({
          id: new FormControl(),
          entityName: new FormControl(),
          entityNameStartDate: new FormControl(),
          entityNameEndDate: new FormControl(),
          entityNameStatus: new FormControl(),
          status: new FormControl(),
        }),
      ]),
    });
  }

  ngOnInit(): void {
    this.leDetailsUpdateForm
      .get('entityNumberGroup')
      ?.get('entityNumber')
      ?.setValue(
        this.recordSpecificData[0].mdmShippingLocationNumbers[0].locationNumber
      );
  }

  openScheduler() {}

  onSubmit() {
    console.log(this.leDetailsUpdateForm.value);
  }
}
